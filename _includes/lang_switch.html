{% assign curr_lang = page.lang | default: "zh" %}
{% if curr_lang == "en" %}
  {% assign target_lang = "zh" %}
  {% assign label = "中文" %}
{% else %}
  {% assign target_lang = "en" %}
  {% assign label = "EN" %}
{% endif %}

{% assign alt = site.pages | where: "ref", page.ref | where: "lang", target_lang | first %}

{% if alt %}
  <a class="nav-link" href="{{ alt.url | relative_url }}">{{ label }}</a>
{% else %}
  {% if target_lang == "en" %}
    <a class="nav-link" href="{{ '/en/' | relative_url }}">{{ label }}</a>
  {% else %}
    <a class="nav-link" href="{{ '/' | relative_url }}">{{ label }}</a>
  {% endif %}
{% endif %}
